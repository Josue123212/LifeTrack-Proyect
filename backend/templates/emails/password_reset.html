{% extends "emails/base_email.html" %}

{% block title %}Recuperaci√≥n de Contrase√±a - Sistema de Citas M√©dicas{% endblock %}

{% block content %}
<div class="content">
    <h2>üîê Recuperaci√≥n de Contrase√±a</h2>
    
    <p>Hola <strong>{{ user.first_name|default:user.username }}</strong>,</p>
    
    <p>Hemos recibido una solicitud para restablecer la contrase√±a de tu cuenta en el Sistema de Citas M√©dicas.</p>
    
    <div class="reset-info">
        <h3>Informaci√≥n de la solicitud:</h3>
        <ul>
            <li><strong>Email:</strong> {{ user.email }}</li>
            <li><strong>Fecha:</strong> {{ reset_token.created_at|date:"d/m/Y H:i" }}</li>
            <li><strong>IP:</strong> {{ reset_token.ip_address|default:"No disponible" }}</li>
        </ul>
    </div>
    
    <div class="reset-action">
        <p>Para restablecer tu contrase√±a, haz clic en el siguiente bot√≥n:</p>
        
        <div style="text-align: center; margin: 30px 0;">
            <a href="{{ reset_url }}" class="btn btn-primary">
                üîë Restablecer Contrase√±a
            </a>
        </div>
        
        <p><strong>‚è∞ Este enlace expirar√° en {{ expiry_hours }} horas.</strong></p>
    </div>
    
    <div class="security-notice">
        <h3>üõ°Ô∏è Informaci√≥n de Seguridad:</h3>
        <ul>
            <li>Si no solicitaste este cambio, puedes ignorar este email</li>
            <li>Tu contrase√±a actual permanece segura hasta que la cambies</li>
            <li>Nunca compartas este enlace con otras personas</li>
            <li>El enlace solo puede usarse una vez</li>
        </ul>
    </div>
    
    <div class="manual-link">
        <p><strong>¬øProblemas con el bot√≥n?</strong> Copia y pega este enlace en tu navegador:</p>
        <div style="background-color: #f8f9fa; padding: 10px; border-radius: 5px; word-break: break-all; font-family: monospace; font-size: 12px;">
            {{ reset_url }}
        </div>
    </div>
</div>
{% endblock %}

{% block additional_styles %}
<style>
    .reset-info {
        background-color: #e3f2fd;
        border-left: 4px solid #2196f3;
        padding: 15px;
        margin: 20px 0;
        border-radius: 5px;
    }
    
    .reset-info h3 {
        margin-top: 0;
        color: #1976d2;
    }
    
    .reset-info ul {
        margin-bottom: 0;
    }
    
    .reset-action {
        text-align: center;
        margin: 30px 0;
    }
    
    .btn {
        display: inline-block;
        padding: 15px 30px;
        text-decoration: none;
        border-radius: 8px;
        font-weight: bold;
        font-size: 16px;
        transition: all 0.3s ease;
    }
    
    .btn-primary {
        background-color: #007bff;
        color: white;
        border: 2px solid #007bff;
    }
    
    .btn-primary:hover {
        background-color: #0056b3;
        border-color: #0056b3;
    }
    
    .security-notice {
        background-color: #fff3cd;
        border-left: 4px solid #ffc107;
        padding: 15px;
        margin: 20px 0;
        border-radius: 5px;
    }
    
    .security-notice h3 {
        margin-top: 0;
        color: #856404;
    }
    
    .manual-link {
        margin-top: 30px;
        padding: 15px;
        background-color: #f8f9fa;
        border-radius: 8px;
        border: 1px solid #dee2e6;
    }
    
    .manual-link p {
        margin-bottom: 10px;
        font-weight: bold;
    }
</style>
{% endblock %}